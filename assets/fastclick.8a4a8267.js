(function(){/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */function n(t){var e;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.tapDelay=200,this.tapTimeout=700;function i(a,c){return function(){return a.apply(c,arguments)}}for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,r=0,p=o.length;r<p;r++)s[o[r]]=i(s[o[r]],s);t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(a,c,u){var l=Node.prototype.removeEventListener;a==="click"?l.call(t,a,c.hijacked||c,u):l.call(t,a,c,u)},t.addEventListener=function(a,c,u){var l=Node.prototype.addEventListener;a==="click"?l.call(t,a,c.hijacked||(c.hijacked=function(f){f.propagationStopped||c(f)}),u):l.call(t,a,c,u)}),typeof t.onclick=="function"&&(e=t.onclick,t.addEventListener("click",function(a){e(a)},!1),t.onclick=null)}var d=["email","number","password","search","tel","text","url"];n.prototype.isInput=function(t){return t.tagName.toLowerCase()==="textarea"||d.indexOf(t.type)!==-1},n.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(t.type==="file"||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!0;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){var i,o;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),o=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},n.prototype.focus=function(t){var e;t.focus(),t.setSelectionRange&&t.type.indexOf("date")!==0&&t.type!=="time"&&t.type!=="month"&&t.type!=="email"&&t.type!=="number"&&(e=t.value.length,t.setSelectionRange(e,e))},n.prototype.updateScrollParent=function(t){var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){var e,i;return t.targetTouches.length>1||(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],e.isContentEditable)||e===document.activeElement&&this.isInput(e)?!0:i.identifier&&i.identifier===this.lastTouchIdentifier?(t.preventDefault(),!1):(this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e),this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0)},n.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},n.prototype.onTouchMove=function(t){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0},n.prototype.findControl=function(t){return t.control!==void 0?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){var e,i,o,s,r=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o=r.tagName.toLowerCase(),o==="label")e=this.findControl(r),e&&(this.focus(r),r=e);else if(this.needsFocus(r))return t.timeStamp-i>100||window.top!==window&&o==="input"?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,t),o!=="select"&&(this.targetElement=null,t.preventDefault()),!1);return s=r.fastClickScrollParent,s&&s.fastClickLastScrollTop!==s.scrollTop?!0:(this.needsClick(r)||(t.preventDefault(),this.sendClick(r,t)),!1)},n.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){return!this.targetElement||t.forwardedTouchEvent||!t.cancelable?!0:!this.needsClick(this.targetElement)||this.cancelNextClick?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0},n.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):t.target.type==="submit"&&t.detail===0?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)};function h(){new n(document.body)}if(document.readyState!=="loading")return h();document.addEventListener("DOMContentLoaded",h,!1)})();
